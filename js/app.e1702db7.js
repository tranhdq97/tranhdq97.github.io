(function(){"use strict";var e={3092:function(e,t,a){a(7658);var n=a(9242),r=a(4161),s=a(8541),i=a(3396);function o(e,t){const a=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(a)}var d=a(89);const l={},u=(0,d.Z)(l,[["render",o]]);var c=u,_=a(2483);function m(e,t,a,n,r,s){const o=(0,i.up)("SignUp");return(0,i.wg)(),(0,i.j4)(o)}function p(e,t,a,n,r,s){const o=(0,i.up)("LBaseSign");return(0,i.wg)(),(0,i.j4)(o,{button_title:"Sign Up",func_type:e.authID.SIGN_UP},null,8,["func_type"])}function E(e,t,a,n,r,s){const o=(0,i.up)("CEnterField"),d=(0,i.up)("CButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(o,{title:"Email",onValue:t[0]||(t[0]=t=>e.email=t)}),(0,i.Wm)(o,{title:"Password ",type:"password",onValue:t[1]||(t[1]=t=>e.password=t)}),(0,i.Wm)(d,{title:e.button_title,onClick:e.func},null,8,["title","onClick"])])}var f=a(4870),T=a(7139);const A=["type"];function y(e,t,a,r,s,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,(0,T.zw)(e.title),1),(0,i.wy)((0,i._)("input",{type:e.type||"text",onInput:t[0]||(t[0]=t=>e.$emit("value",e.value)),"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t)},null,40,A),[[n.YZ,e.value]])])}var g=(0,i.aZ)({props:{title:String,type:String},setup(){const e=(0,f.iH)("");return{value:e}}});const h=(0,d.Z)(g,[["render",y]]);var I=h;function S(e,t,a,n,r,s){return(0,i.wg)(),(0,i.iD)("div",null,(0,T.zw)(e.title),1)}var R=(0,i.aZ)({props:{title:String,type:String}});const b=(0,d.Z)(R,[["render",S],["__scopeId","data-v-1333a9df"]]);var D,v,w,L,O,N,P,M,U,C,G,B,k,q,F,V,H,Y,x=b,Q=a(65);(function(e){e["G_IS_SIDEBAR_COLLAPSED"]="sideBar/isSideBarCollapsed",e["A_TOGGLE_SIDEBAR"]="sideBar/toggleSideBar",e["A_COLLAPSE_SIDEBAR"]="sideBar/collapseSideBar"})(D||(D={})),function(e){e["G_ALL_MEALS"]="item/allMeals",e["G_MEALS"]="item/meals",e["G_AVAILABLE_MENU"]="item/availableItem",e["A_GET_MEALS"]="item/getMeals",e["A_ADD_MEAL"]="item/addMeal",e["A_CHANGE_QUANTITY"]="item/changeQuantity",e["A_CHANGE_KEYWORD"]="item/changeKeyword",e["A_CHANGE_QUANTITY_SEARCH"]="item/changeQuantitySearch",e["A_RESET_QUANTITY"]="item/resetQuantity"}(v||(v={})),function(e){e["G_ORDER_PREVIEW_LIST"]="order_item/orderItemPreviewList",e["G_ORDERED_LIST"]="order_item/orderedItemList",e["G_TABLE_REP_DATA"]="order_item/tableRepData",e["A_GET_ORDER_ITEMS"]="order_item/getOrderItems",e["A_GET_ORDER_ITEM"]="order_item/getOrderItem",e["A_ADD_TO_ORDER_PREVIEW"]="order_item/addToOrderPreview",e["A_INCREASE_QUANTITY"]="order_item/increaseQuantity",e["A_DECREASE_QUANTITY"]="order_item/decreaseQuantity",e["A_ORDER"]="order_item/order",e["A_SERVE"]="order_item/serve",e["A_PAY"]="order_item/pay",e["M_REMOVE_ORDER_ITEM"]="order_item/removeOrderItem",e["M_UPDATE"]="order_item/update",e["A_CHANGE_QUANTITY"]="order_item/changeQuantity",e["A_REMOVE"]="order_item/remove"}(w||(w={})),function(e){e["G_ORDER_LIST"]="order/orderList",e["G_ORDER"]="order/order",e["G_ORDER_BY_TABLE"]="order/orderByTable",e["A_ADD_ORDER"]="order/addOrder",e["A_GET_ORDERS"]="order/getOrders",e["A_GET_ORDER"]="order/getOrder",e["A_UPDATE_ORDER"]="order/updateOrder",e["M_REMOVE_ORDER"]="order/removeOrder",e["M_UPDATE"]="order/update",e["A_ORDER"]="order/order"}(L||(L={})),function(e){e["G_TABLES"]="table/tables",e["G_TABLE"]="table/table",e["A_ADD_TABLE"]="table/addTable",e["A_GET_TABLES"]="table/getTables",e["A_GET_TABLE"]="table/getTable",e["A_UPDATE_TABLE"]="table/updateTable",e["A_JOIN_TABLE"]="table/joinTable",e["A_OUT_TABLE"]="table/outTable",e["A_INIT_TABLE"]="table/initTable",e["M_UPDATE_TABLE"]="table/update"}(O||(O={})),function(e){e["G_VAT"]="bill/VAT"}(N||(N={})),function(e){e["G_USER"]="auth/user",e["A_SIGN_UP"]="auth/signUp",e["A_SIGN_IN"]="auth/signIn",e["A_SIGN_OUT"]="auth/signOut",e["A_REFRESH"]="auth/refreshToken",e["A_GET_ME"]="auth/getMe",e["M_REMOVE_CURRENT_USER"]="auth/removeCurrentUser",e["M_SET_USER"]="auth/setUser"}(P||(P={})),function(e){e["G_CUSTOMER_BY_ORDER"]="customer/customerByOrder",e["A_SEARCH_CUSTOMER_BY_PN"]="customer/searchCustomerByPhoneNumber",e["A_ADD_PHONE_NUMBER"]="customer/addPhoneNumber",e["A_UPDATE_CUSTOMER"]="customer/updateCustomer",e["M_REMOVE_CUSTOMER"]="customer/removeCustomer",e["M_ADD_CUSTOMER"]="customer/addCustomer",e["M_UPDATE"]="customer/update"}(M||(M={})),function(e){e["A_UPDATE_PROFILE"]="profile/updateProfile"}(U||(U={})),function(e){e["G_STAFF"]="staff/staff",e["G_STAFFS"]="staff/staffs",e["G_SEARCHED_STAFFS"]="staff/searchedStaffs",e["G_IS_NEXT"]="staff/isNext",e["G_IS_PREVIOUS"]="staff/isPrevious",e["A_GET_STAFFS"]="staff/getStaffs",e["A_NEXT_PAGE"]="staff/nextPage",e["A_PREVIOUS_PAGE"]="staff/previousPage",e["A_UPDATE_STAFF"]="staff/updateStaff",e["M_REMOVE_STAFF"]="staff/removeStaff",e["M_ADD_STAFF"]="staff/addStaff",e["M_UPDATE"]="staff/update"}(C||(C={})),function(e){e["G_STAFF_TYPES"]="staff_type/staffTypes",e["A_GET_STAFF_TYPES"]="staff_type/getStaffTypes"}(G||(G={})),function(e){e["G_MENU_TYPES"]="menu_type/menuTypes",e["A_GET_MENU_TYPES"]="menu_type/getMenuTypes"}(B||(B={})),function(e){e["G_IS_IN_CART"]="cart/isInCart",e["G_MEALS"]="cart/meals",e["G_TOTAL_QUANTITY"]="cart/totalQuantity",e["G_ORDER_ITEMS"]="cart/orderItems",e["A_ADD_MEAL"]="cart/addMeal",e["A_CHANGE_QUANTITY"]="cart/changeQuantity",e["A_REMOVE"]="cart/remove",e["A_SET_MEALS"]="cart/setMeals",e["A_GET_ORDER_ITEMS"]="cart/getOrderItems"}(k||(k={})),function(e){e["A_UPLOAD_FILE"]="file_management/uploadFile"}(q||(q={})),function(e){e["SIGNUP"]="/#/signup",e["SIGNIN"]="/signin",e["HOME"]="/",e["SETTING"]="/setting",e["TABLES"]="/tables",e["TABLE"]="/tables/:id",e["STAFFS"]="/staffs",e["STAFF"]="/staff/:id",e["MENU"]="/item",e["MEAL"]="/item/:id"}(F||(F={})),function(e){e["SIGNUP"]="signup",e["SIGNIN"]="signin",e["HOME"]="home",e["SETTING"]="setting",e["TABLES"]="tables",e["TABLE"]="table",e["STAFFS"]="staffs",e["STAFF"]="staff",e["MENU"]="item",e["MEAL"]="meal"}(V||(V={})),function(e){e[e["SUPER_STAFF"]=1]="SUPER_STAFF",e[e["MANAGER"]=2]="MANAGER",e[e["EMPLOYEE"]=3]="EMPLOYEE",e[e["UNAPPROVED"]=4]="UNAPPROVED"}(H||(H={})),function(e){e[e["SIGN_IN"]=1]="SIGN_IN",e[e["SIGN_UP"]=2]="SIGN_UP"}(Y||(Y={}));var Z=(0,i.aZ)({components:{CEnterField:I,CButton:x},props:{button_title:String,func_type:Number},setup(e){const t=(0,Q.oR)(),a=(0,_.tv)(),n=(0,f.iH)(""),r=(0,f.iH)("");async function s(){await t.dispatch(P.A_SIGN_IN,{email:n.value,password:r.value}),a.push(F.HOME)}async function i(){await t.dispatch(P.A_SIGN_UP,{email:n.value,password:r.value}),a.push(F.SIGNIN)}async function o(){e.func_type==Y.SIGN_IN?s():i()}return{email:n,password:r,func:o}}});const W=(0,d.Z)(Z,[["render",E]]);var j=W,X=(0,i.aZ)({components:{LBaseSign:j},props:{},setup(){const e=Y;return{authID:e}}});const z=(0,d.Z)(X,[["render",p]]);var K,J,$,ee,te,ae,ne,re=z;(function(e){e["EMAIL"]="email",e["PASSWORD"]="password",e["FIRSTNAME"]="first_name",e["LASTNAME"]="last_name",e["PHONE_NUMBER"]="phone_number",e["LOCALE"]="locale",e["SIGNUP"]="sign_up",e["SIGNIN"]="sign_in",e["SETTING"]="setting",e["TABLES"]="tables",e["TABLE"]="table",e["HOME"]="home",e["SIGNOUT"]="sign_out",e["STAFFS"]="staffs",e["STAFF"]="staff",e["DAYS"]="days",e["HOURS"]="hours",e["MINUTES"]="minutes",e["SECONDS"]="seconds",e["SEARCH"]="search",e["MEAL_NAME"]="meal_name",e["QUANTITY"]="quantity",e["UNIT_PRICE"]="unit_price",e["TOTAL"]="total",e["ORDERED_AT"]="ordered_at",e["PREVIEW"]="preview",e["ORDER"]="order",e["SERVED"]="served",e["SERVED_AT"]="served_at",e["SERVING_QUANTITY"]="serving_quantity",e["SERVED_QUANTITY"]="served_quantity",e["SERVE"]="serve",e["PAY_BILL"]="pay_bill",e["VAT"]="VAT",e["AMOUNT"]="amount",e["NUM_PEOPLE"]="num_people",e["UPDATE"]="update",e["MENU"]="menu",e["DESC"]="desc",e["ADD_MEAL"]="add_meal",e["MEAL_TYPE"]="meal_type",e["ROLE"]="role",e["PHOTO"]="photo"})(K||(K={})),function(e){e["ENTER_EMAIL"]="enter_email",e["ENTER_PASSWORD"]="enter_password",e["ENTER_PHONENUMBER"]="enter_phone_number",e["ENTER_MEAL_NAME"]="enter_meal_name",e["ENTER_UNIT_PRICE"]="enter_unit_price",e["ENTER_DESC"]="enter_desc"}(J||(J={})),function(e){e["ACCESS"]="access",e["REFRESH"]="refresh",e["EXPIRED"]="expired"}($||($={})),function(e){e["INDEX"]=":id",e["MASTER_NAME"]=":master_name"}(ee||(ee={})),function(e){e["SEX"]="m_sex",e["CITY"]="m_city",e["COUNTRY"]="m_country",e["DISTRICT"]="m_district",e["FILE_TYPE"]="m_file_type",e["MENU_TYPE"]="m_menu_type",e["STAFF_TYPE"]="m_staff_type"}(te||(te={})),function(e){e["PERMISSION_DENIED"]="permission_denied"}(ae||(ae={})),function(e){e["LOGO"]="https://restaurant-bucket-tranhdq-1.s3.ap-southeast-1.amazonaws.com/assets/Ge.svg"}(ne||(ne={}));var se=(0,i.aZ)({setup(){const e=(0,_.tv)(),t=(0,f.iH)(""),a=(0,f.iH)("");return{ECommon:K,EPlaceHolder:J,ERouter:F,router:e,email:t,password:a,EAssets:ne}},components:{SignUp:re}});const ie=(0,d.Z)(se,[["render",m]]);var oe=ie;function de(e,t,a,n,r,s){const o=(0,i.up)("SignIn");return(0,i.wg)(),(0,i.j4)(o)}function le(e,t,a,n,r,s){const o=(0,i.up)("LBaseSign");return(0,i.wg)(),(0,i.j4)(o,{button_title:"Login",func_type:e.authID.SIGN_IN},null,8,["func_type"])}var ue=(0,i.aZ)({components:{LBaseSign:j},props:{},setup(){const e=Y;return{authID:e}}});const ce=(0,d.Z)(ue,[["render",le]]);var _e=ce,me=(0,i.aZ)({setup(){const e=(0,_.tv)(),t=(0,f.iH)(""),a=(0,f.iH)("");return{ECommon:K,EPlaceHolder:J,ERouter:F,router:e,email:t,password:a,EAssets:ne}},components:{SignIn:_e}});const pe=(0,d.Z)(me,[["render",de]]);var Ee=pe;const fe={class:"home"},Te=(0,i._)("div",null,"home",-1),Ae=[Te];function ye(e,t,a,n,r,s){return(0,i.wg)(),(0,i.iD)("div",fe,Ae)}const ge=r.Z.create({baseURL:"https://dongquoctranh.pythonanywhere.com/api/",timeout:5e3});var he,Ie,Se,Re,be,De,ve,we,Le,Oe,Ne,Pe=ge;function Me(e,t,a){return t?.map((t=>{t.value&&(e=e.replace(t.key,t.value.toString()))})),a&&(e+="?",a.map(((t,n)=>{t.key&&t.value&&(e+=t.key+"="+t.value,n+1<a.length&&(e+="&"))}))),e}(function(e){e["CREATE"]="file-management/create",e["LIST"]="file-management/list",e["DETAIL"]="file-management/:id/detail",e["UPDATE"]="file-management/:id/update",e["DELETE"]="file-management/:id/delete"})(he||(he={})),Ie||(Ie={}),function(e){e["TOKEN"]="auth/token",e["REFRESH_TOKEN"]="auth/token/refresh",e["GET_ME"]="auth/get-me",e["CHANGE_PASSWORD"]="auth/change-password"}(Se||(Se={})),function(e){e["CREATE"]="customer/create",e["LIST"]="customer/list",e["DETAIL"]="customer/:id/detail",e["DELETE"]="customer/:id/delete",e["UPDATE"]="customer/:id/update"}(Re||(Re={})),function(e){e["CREATE"]="master/:master_name/create",e["LIST"]="master/:master_name/list",e["DELETE"]="master/:master_name/:id/list"}(be||(be={})),function(e){e["CREATE"]="item/create",e["LIST"]="item/list",e["DETAIL"]="item/:id/detail",e["UPDATE"]="item/:id/update",e["DELETE"]="item/:id/delete"}(De||(De={})),function(e){e["CREATE"]="order/create",e["LIST"]="order/list",e["DETAIL"]="order/:id/detail",e["UPDATE"]="order/:id/update",e["DELETE"]="order/:id/delete"}(ve||(ve={})),function(e){e["CREATE"]="order_item/create",e["LIST"]="order_item/list",e["DETAIL"]="order_item/:id/detail",e["UPDATE"]="order_item/:id",e["DELETE"]="order_item/:id/delete"}(we||(we={})),function(e){e["CREATE"]="profile/create",e["DETAIL"]="profile/:id/detail",e["UPDATE"]="profile/:id/update",e["DELETE"]="profile/:id/delete"}(Le||(Le={})),function(e){e["CREATE"]="staff/create",e["LIST"]="staff/list",e["DETAIL"]="staff/:id/detail",e["UPDATE"]="staff/:id/update",e["DELETE"]="staff/:id/delete"}(Oe||(Oe={})),function(e){e["CREATE"]="table/create",e["LIST"]="table/list",e["DETAIL"]="table/:id/detail",e["UPDATE"]="table/:id/update",e["DELETE"]="table/:id/delete",e["JOIN_TABLE"]="table/:id/staff_in",e["OUT_TABLE"]="table/:id/staff_out",e["GET_ORDER"]="table/:id/order_items"}(Ne||(Ne={}));var Ue=(0,i.aZ)({setup(){async function e(){const e=Me(be.LIST,[{key:ee.MASTER_NAME,value:te.COUNTRY}]);await Pe.get(e)}return{click:e}}});const Ce=(0,d.Z)(Ue,[["render",ye]]);var Ge=Ce;function Be(e,t,a,n,r,s){const o=(0,i.up)("c-tables");return(0,i.wg)(),(0,i.j4)(o,{tables:e.tables},null,8,["tables"])}const ke={class:"fw-bold"};function qe(e,t,a,n,r,s){const o=(0,i.up)("el-card"),d=(0,i.up)("el-col"),l=(0,i.up)("el-row");return(0,i.wg)(),(0,i.j4)(l,{gutter:12},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tables,(t=>((0,i.wg)(),(0,i.j4)(d,{sx:24,sm:12,md:8,lg:6,xl:4,key:t.id,class:"my-1",onClick:a=>e.joinTable(t)},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{class:(0,T.C_)(["bg-success",{"bg-danger":!t.is_available||!!t.in_table_staff}])},{default:(0,i.w5)((()=>[(0,i._)("h1",ke,(0,T.zw)(t.name),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})}var Fe=(0,i.aZ)({props:["tables"],setup(){const e=(0,_.tv)(),t=(0,Q.oR)(),a=async a=>{if(a.is_available&&!a.in_table_staff){await t.dispatch(O.A_JOIN_TABLE,a.id);const n=Me(F.TABLE,[{key:ee.INDEX,value:a.id}]);e.push(n)}};return{joinTable:a}}});const Ve=(0,d.Z)(Fe,[["render",qe]]);var He=Ve,Ye=(0,i.aZ)({components:{CTables:He},setup(){const e=(0,Q.oR)(),t=(0,f.Fl)((()=>e.getters[O.G_TABLES]));return e.dispatch(O.A_GET_TABLES),{tables:t}}});const xe=(0,d.Z)(Ye,[["render",Be]]);var Qe=xe;const Ze=e=>((0,i.dD)("data-v-f94a3564"),e=e(),(0,i.Cn)(),e),We={class:"d-flex justify-content-between align-items-center gap-3"},je=Ze((()=>(0,i._)("h3",{class:"fw-bold d-none d-sm-inline"},"Menu",-1))),Xe=Ze((()=>(0,i._)("i",{class:"el-icon-shopping-cart-1"},null,-1))),ze={class:"d-flex justify-content-between align-items-center p-2"},Ke=Ze((()=>(0,i._)("h3",{class:"fw-bold"},"Cart",-1))),Je={class:"fw-bold mb-3"},$e=(0,i.Uk)("Order");function et(e,t,a,n,r,s){const o=(0,i.up)("el-option"),d=(0,i.up)("el-select"),l=(0,i.up)("el-badge"),u=(0,i.up)("el-input"),c=(0,i.up)("el-button"),_=(0,i.up)("c-cart"),m=(0,i.up)("el-drawer"),p=(0,i.up)("el-card"),E=(0,i.up)("el-header"),f=(0,i.up)("c-menu"),A=(0,i.up)("el-main"),y=(0,i.up)("el-container");return(0,i.wg)(),(0,i.j4)(y,null,{default:(0,i.w5)((()=>[(0,i.Wm)(E,{class:"px-0 position-sticky top-0 hightIndex"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{shadow:"always"},{default:(0,i.w5)((()=>[(0,i._)("div",We,[je,(0,i.Wm)(l,{value:e.totalQuantity,class:"item"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:e.state.searchType,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.searchType=t),placeholder:"Select"},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{label:"All",value:0}),(0,i.Wm)(o,{label:"Pending",value:1})])),_:1},8,["modelValue"])])),_:1},8,["value"]),(0,i.Wm)(u,{modelValue:e.state.searchKeyword,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.searchKeyword=t),placeholder:"Search",class:"input-with-select"},null,8,["modelValue"]),(0,i.Wm)(l,{value:e.cartQuantity,class:"item"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{onClick:t[2]||(t[2]=t=>e.showCart=!0)},{default:(0,i.w5)((()=>[Xe])),_:1})])),_:1},8,["value"]),(0,i.Wm)(m,{class:"position-fixed",modelValue:e.showCart,"onUpdate:modelValue":t[4]||(t[4]=t=>e.showCart=t),size:"100%","with-header":!1},{default:(0,i.w5)((()=>[(0,i._)("div",ze,[Ke,(0,i._)("i",{class:"el-icon-circle-close fs-4",onClick:t[3]||(t[3]=t=>e.showCart=!1)})]),(0,i.Wm)(_,{orderItems:e.orderItems,onChange:e.getOrderItems},null,8,["orderItems","onChange"])])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,i.Wm)(A,{class:"d-flex flex-column align-items-center gap-3 justify-content-start pb-5"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{class:"w-100",meals:e.meals},null,8,["meals"]),(0,i._)("h1",Je,"Total: "+(0,T.zw)(e.totalPrice),1),e.showCart?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,class:"position-fixed bottom-0 start-50 translate-middle hightIndex",type:"warning",round:"",onClick:e.order},{default:(0,i.w5)((()=>[$e])),_:1},8,["onClick"]))])),_:1})])),_:1})}function tt(e,t,a,n,r,s){const o=(0,i.up)("c-meal"),d=(0,i.up)("el-row");return(0,i.wg)(),(0,i.j4)(d,{gutter:12},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.meals,(e=>((0,i.wg)(),(0,i.j4)(o,{key:e.id,meal:e},null,8,["meal"])))),128))])),_:1})}const at={class:"fw-bold"},nt={style:{padding:"14px"}};function rt(e,t,a,n,r,s){const o=(0,i.up)("el-input-number"),d=(0,i.up)("el-card"),l=(0,i.up)("el-col");return(0,i.wg)(),(0,i.j4)(l,{xs:24,sm:12,md:8,lg:6,xl:4,class:"my-1"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{"body-style":{padding:"5px"}},{default:(0,i.w5)((()=>[(0,i._)("h3",at,(0,T.zw)(e.meal.name),1),(0,i._)("span",null,(0,T.zw)(e.meal.price.toLocaleString("vi",{style:"currency",currency:"VND"})),1),(0,i._)("div",nt,[(0,i.Wm)(o,{modelValue:e.state.quantityInput,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.quantityInput=t),min:0,size:"mini"},null,8,["modelValue"])])])),_:1})])),_:1})}var st=(0,i.aZ)({props:["meal"],setup(e){const t=(0,Q.oR)(),a=e=>{t.dispatch(k.A_ADD_MEAL,e)},n=(0,f.qj)({quantityInput:e.meal.quantity});(0,i.YP)((()=>n.quantityInput),(a=>{t.dispatch(v.A_CHANGE_QUANTITY,{id:e.meal.id,quantity:a})})),(0,i.YP)((()=>e.meal.quantity),(e=>{n.quantityInput=e}));const r=a=>{t.dispatch(v.A_CHANGE_QUANTITY,{id:e.meal.id,quantity:a})};return{addMeal:a,state:n,handleChangeQuantity:r}}});const it=(0,d.Z)(st,[["render",rt]]);var ot=it,dt=(0,i.aZ)({components:{CMeal:ot},props:["meals"],setup(e){const t=(0,Q.oR)(),a=e=>{t.dispatch(k.A_ADD_MEAL,e)},n=(0,f.qj)({quantityInput:{}});(0,i.YP)((()=>e.meals),(()=>{n.quantityInput=e.meals.reduce(((e,t)=>(e[t.id]=0,e)),{})}),{deep:!0});const r=(e,a)=>{t.dispatch(v.A_CHANGE_QUANTITY,{id:e,quantity:a})};return{addMeal:a,state:n,handleChangeQuantity:r}}});const lt=(0,d.Z)(dt,[["render",tt]]);var ut=lt;function ct(e,t,a,n,r,s){const o=(0,i.up)("c-cart-item");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.orderItems,(a=>((0,i.wg)(),(0,i.j4)(o,{key:a.id,orderItem:a,onChange:t[0]||(t[0]=t=>e.$emit("change"))},null,8,["orderItem"])))),128))])}const _t=e=>((0,i.dD)("data-v-61fbb26e"),e=e(),(0,i.Cn)(),e),mt={class:"fw-bold"},pt={class:"d-flex gap-3"},Et={class:"fw-bold"},ft=_t((()=>(0,i._)("i",{class:"el-icon-more"},null,-1))),Tt=(0,i.Uk)("Edit"),At=(0,i.Uk)("Change Table"),yt=(0,i.Uk)("Remove"),gt={style:{float:"left"}},ht={style:{float:"right",color:"#8492a6","font-size":"13px"}},It={class:"dialog-footer"},St=(0,i.Uk)("Cancel"),Rt=(0,i.Uk)("Confirm");function bt(e,t,a,n,r,s){const o=(0,i.up)("el-button"),d=(0,i.up)("el-dropdown-item"),l=(0,i.up)("el-card"),u=(0,i.up)("el-dropdown"),c=(0,i.up)("el-option"),_=(0,i.up)("el-select"),m=(0,i.up)("el-form-item"),p=(0,i.up)("el-input-number"),E=(0,i.up)("el-form"),f=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l,{"body-style":{display:"flex","justify-content":"space-between","align-items":"center"}},{default:(0,i.w5)((()=>[(0,i._)("h1",mt,(0,T.zw)(e.orderItem.item__name),1),(0,i._)("div",pt,[(0,i._)("h1",Et,(0,T.zw)(e.orderItem.quantity),1),(0,i.Wm)(u,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{onClick:t[0]||(t[0]=t=>e.state.dialogFormVisible=!0)},{default:(0,i.w5)((()=>[Tt])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[At])),_:1}),(0,i.Wm)(d,{onClick:e.handleRemove},{default:(0,i.w5)((()=>[yt])),_:1},8,["onClick"])])),_:1})])),default:(0,i.w5)((()=>[(0,i.Wm)(o,{plain:""},{default:(0,i.w5)((()=>[ft])),_:1})])),_:1})])])),_:1}),(0,i.Wm)(f,{class:"position-fixed top-50 start-50 translate-middle",title:"Edit",modelValue:e.state.dialogFormVisible,"onUpdate:modelValue":t[4]||(t[4]=t=>e.state.dialogFormVisible=t),style:{"min-width":"350px"}},{footer:(0,i.w5)((()=>[(0,i._)("span",It,[(0,i.Wm)(o,{onClick:t[3]||(t[3]=t=>e.state.dialogFormVisible=!1)},{default:(0,i.w5)((()=>[St])),_:1}),(0,i.Wm)(o,{type:"primary",onClick:e.handleChangeQuantity},{default:(0,i.w5)((()=>[Rt])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(E,{model:e.form},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{label:"Meal","label-width":e.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{modelValue:e.state.form.item_id,"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.form.item_id=t),placeholder:"Select",filterable:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.meals,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,label:e.name,value:e.id},{default:(0,i.w5)((()=>[(0,i._)("span",gt,(0,T.zw)(e.name),1),(0,i._)("span",ht,(0,T.zw)(e.price.toLocaleString("vi",{style:"currency",currency:"VND"})),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(m,{label:"Quantity","label-width":e.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:e.state.form.quantity,"onUpdate:modelValue":t[2]||(t[2]=t=>e.state.form.quantity=t),min:1},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}var Dt=(0,i.aZ)({props:["orderItem"],emits:["change"],setup(e,{emit:t}){const a=(0,Q.oR)(),n=(0,f.qj)({quantity:e.orderItem.quantity,mealId:e.orderItem.item__id,editting:!1,dialogFormVisible:!1,form:{item_id:e.orderItem.item__id,quantity:e.orderItem.quantity}}),r=(0,f.Fl)((()=>a.getters[v.G_ALL_MEALS])),s=async()=>{await a.dispatch(w.A_CHANGE_QUANTITY,{id:e.orderItem.id,data:n.form}),t("change"),n.dialogFormVisible=!1},i=async()=>{await a.dispatch(w.A_REMOVE,e.orderItem.id),t("change")};return{state:n,handleChangeQuantity:s,meals:r,handleRemove:i}}});const vt=(0,d.Z)(Dt,[["render",bt],["__scopeId","data-v-61fbb26e"]]);var wt=vt,Lt=(0,i.aZ)({components:{CCartItem:wt},props:["orderItems"]});const Ot=(0,d.Z)(Lt,[["render",ct]]);var Nt=Ot,Pt=a(6666),Mt=(0,i.aZ)({components:{CMenu:ut,CCart:Nt},props:["id"],setup(e){const t=(0,Q.oR)(),a=(0,f.Fl)((()=>t.getters[v.G_MEALS])),n=()=>t.dispatch(k.A_GET_ORDER_ITEMS,e.id),r=(0,f.Fl)((()=>t.getters[k.G_ORDER_ITEMS])),s=(0,f.iH)(!1);(0,i.Jd)((async()=>{await t.dispatch(O.A_OUT_TABLE,e.id)}));const o=(0,f.qj)({searchKeyword:"",searchType:0}),d=(0,f.Fl)((()=>a.value.reduce(((e,t)=>(0===o.searchType?e++:e+=t.quantity,e)),0))),l=(0,f.Fl)((()=>t.getters[v.G_ALL_MEALS].filter((e=>e.quantity>0)))),u=(0,f.Fl)((()=>l.value.filter((e=>e.quantity>0)).reduce(((e,t)=>(e+=t.quantity*t.price,e)),0).toLocaleString("vi",{style:"currency",currency:"VND"}))),c=(0,f.Fl)((()=>t.getters[k.G_TOTAL_QUANTITY])),_=()=>{const a=l.value.map((e=>({item_id:e.id,quantity:e.quantity})));a.length>0?t.dispatch(L.A_ORDER,{table_id:e.id,order_items:a}):(0,Pt.bM)({title:"Error",message:"Chưa chọn món",type:"error"})};return t.dispatch(v.A_GET_MEALS),n(),(0,i.YP)((()=>o.searchKeyword),(e=>{t.dispatch(v.A_CHANGE_KEYWORD,e)})),(0,i.YP)((()=>o.searchType),(e=>{t.dispatch(v.A_CHANGE_QUANTITY_SEARCH,e)})),{meals:a,orderItems:r,showCart:s,state:o,totalQuantity:d,totalPrice:u,order:_,cartQuantity:c,getOrderItems:n}}});const Ut=(0,d.Z)(Mt,[["render",et],["__scopeId","data-v-f94a3564"]]);var Ct,Gt,Bt,kt,qt,Ft=Ut,Vt=a(2415),Ht={namespaced:!0,state:{isSideBarHide:!1,isSideBarCollapsed:!0},getters:{isSideBarCollapsed:e=>e.isSideBarCollapsed},actions:{toggleSideBar({state:e}){e.isSideBarCollapsed=!e.isSideBarCollapsed},collapseSideBar({state:e}){e.isSideBarCollapsed=!0}}},Yt={namespaced:!0,state:{meals:[],keyword:"",quantitySearch:0},_getters:{allMeals:e=>e.meals,meals:e=>e.meals.filter((t=>t.name.toLowerCase().includes(e.keyword)&&t.quantity>=e.quantitySearch))},get getters(){return this._getters},set getters(e){this._getters=e},actions:{async getMeals({state:e,dispatch:t}){const a=await r.Z.get(De.LIST);e.meals=a.results,t("resetQuantity")},async addMeal({state:e},t){const a=await Pe.post(De.CREATE,t);e.meals.push(a)},changeKeyword({state:e},t){e.keyword=t.toLowerCase()},changeQuantitySearch({state:e},t){e.quantitySearch=t},changeQuantity({state:e},t){const{quantity:a,id:n}=t,r=e.meals.find((e=>e.id===n));r.quantity=a&&+a>=0?a:0},resetQuantity({state:e}){e.meals=e.meals.map((e=>({...e,quantity:0})))}}};function xt(e,t,a){let n="";return e.map(((e,r)=>{n+=(0===r?"":a)+e[t]})),n}function Qt(e,t){return e.toString().padStart(t||3,"0")}function Zt(e,t){let a="";return e.map(((e,n)=>{e&&(a+=(0===n?"":t)+e)})),a}(function(e){e["NAME"]="name",e["ORDERING"]="ordering",e["PAGE"]="page",e["PAGE_SIZE"]="page_size",e["SEARCH"]="search",e["ID"]="id"})(Ct||(Ct={})),function(e){e["IS_AVAILABLE"]="is_available"}(Gt||(Gt={})),function(e){e["TABLE_ID__IN"]="table_id__in"}(Bt||(Bt={})),function(e){e["ORDER_ID__IN"]="order_id__in",e["ORDER__CUSTOMER_ID"]="order__customer_id"}(kt||(kt={})),Bt||(Bt={}),function(e){e["PROFILE__FIRST_NAME"]="profile__first_name",e["PROFILE__LAST_NAME"]="profile__last_name",e["PROFILE__PHONE_NUMBER"]="profile__phone_number"}(qt||(qt={}));var Wt={namespaced:!0,state:{orderList:[]},getters:{orderList:e=>e.orderList,order:e=>t=>e.orderList.find((e=>e.id===t.id)),orderByTable:e=>t=>e.orderList.find((e=>e?.table?.id===t.id&&!e.paid_at))},actions:{async order({state:e,dispatch:t},a){await Pe.post(ve.CREATE,a),t(k.A_GET_ORDER_ITEMS,a.table_id,{root:!0}),t(v.A_RESET_QUANTITY,null,{root:!0})},async addOrder({state:e,commit:t},a){const n=await Pe.post(ve.CREATE,a);return e.orderList.push(n),t(O.M_UPDATE_TABLE,n.table,{root:!0}),n},async getOrders({state:e},t){if(!t?.length)return e.orderList;const a=xt(t,Ct.ID,","),n=Me(ve.LIST,[],[{key:Bt.TABLE_ID__IN,value:a}]),r=await Pe.get(n);return e.orderList=r.results,e.orderList},async getOrder({commit:e},t){const a=xt([t],Ct.ID,","),n=Me(ve.LIST,[],[{key:Bt.TABLE_ID__IN,value:a}]),r=await Pe.get(n),s=r.results[0];return s&&e(L.M_UPDATE,s,{root:!0}),s?.customer&&e(M.M_UPDATE,s.customer,{root:!0}),s},async updateOrder({commit:e},t){const a=Me(ve.UPDATE,[{key:ee.INDEX,value:t.order.id}]),n=await Pe.put(a,t.updateData);return e(L.M_UPDATE,n,{root:!0}),n?.table&&e(O.M_UPDATE_TABLE,n.table,{root:!0}),n?.customer&&e(M.M_UPDATE,n.customer,{root:!0}),t.order}},mutations:{removeOrder(e,t){const a=e.orderList.indexOf(t);a>-1&&e.orderList.splice(a,1)},update(e,t){const a=e.orderList.find((e=>t.id===e?.id));a?(a.num_people=t.num_people,a.paid_at=t.paid_at,a.table=t.table,a.customer=t.customer):e.orderList.push(t)}}},jt={namespaced:!0,state:{orderItemList:[]},getters:{orderItemPreviewList:e=>t=>e.orderItemList.filter((e=>e?.table?.id===t.id&&!e.updated_at)),orderedItemList:e=>t=>e.orderItemList.filter((e=>e?.table?.id===t.id&&e.updated_at)),tableRepData:e=>t=>{let a,n=null,r=null,s=0,i=0;e.orderItemList.filter((e=>e?.table?.id===t.id&&e.order)).map(((e,t)=>{0===t&&(a=e.order?.customer?.profile?.phone_number),e.served_at&&(n=n?new Date(e.served_at>n?e.served_at:n):new Date(e.served_at)),e.updated_at&&(r=r?new Date(e.updated_at>r?e.updated_at:r):new Date(e.updated_at)),s+=e.served_quantity?e.served_quantity:0,i+=e.quantity}));const o={phoneNumber:a,lastServedAt:n,newestOrderedAt:r,numOrders:i,numServed:s};return o}},actions:{addToOrderPreview({state:e},t){if(e.orderItemList.some((e=>e.menu.id===t.menu.id&&e.table===t.table&&!e.order)))return;const a={order:t?.order,menu:t.menu,quantity:1,table:t.table};e.orderItemList.push(a)},increaseQuantity({state:e},t){t.quantity+=1},decreaseQuantity({state:e},t){t.quantity-=1},async getOrderItems({state:e},t){if(!t.length)return void(e.orderItemList=[]);const a=xt(t,Ct.ID,","),n=Me(we.LIST,[],[{key:kt.ORDER_ID__IN,value:a}]),r=await Pe.get(n);e.orderItemList=r.results,e.orderItemList.map((e=>{e.table=e.order?.table}))},async getOrderItem({commit:e},t){const a=xt([t],Ct.ID,","),n=Me(we.LIST,[],[{key:kt.ORDER_ID__IN,value:a}]),r=await Pe.get(n),s=r.results;s.map((a=>{a.table=t?.table,e(w.M_UPDATE,a,{root:!0})}))},async order({state:e,commit:t,dispatch:a},n){let r=n.table,s=n.tableOrder;r.is_available&&(r=await a(O.A_UPDATE_TABLE,{table:n.table,updateData:{is_available:!1}},{root:!0})),n.tableOrder||(s=await a(L.A_ADD_ORDER,{table_id:r.id,num_people:1,customer_id:n?.customer?.id||0},{root:!0})),n.items.map((async a=>{const r=e.orderItemList.find((e=>a.menu.id===e.menu.id&&a.table?.id===e?.table?.id&&e.order));if(r){const e=Me(we.UPDATE,[{key:ee.INDEX,value:r.id}]),s=await Pe.put(e,{quantity:r.quantity+a.quantity,created_by_id:n.staff.id});s.table=n.table,s.updated_at=new Date(s.updated_at),t(w.M_UPDATE,s,{root:!0})}else{const e=await Pe.post(we.CREATE,{quantity:a.quantity,created_by_id:n.staff.id,order_id:s?.id,menu_id:a.menu.id});e.table=n.table,e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),t(w.M_UPDATE,e,{root:!0})}t(w.M_REMOVE_ORDER_ITEM,a,{root:!0})}))},async serve({commit:e},t){const a=Me(we.UPDATE,[{key:ee.INDEX,value:t.item.id}]),n=await Pe.put(a,{served_quantity:(t.item?.served_quantity||0)+t.serveQuantity,served_at:new Date(Date.now()).toISOString()});n.served_at=new Date(n.served_at),e(w.M_UPDATE,n,{root:!0})},async pay({commit:e,dispatch:t},a){a.orderItems.map((t=>e(w.M_REMOVE_ORDER_ITEM,t,{root:!0})));const n=Me(ve.UPDATE,[{key:ee.INDEX,value:a.order.id}]);await Pe.put(n,{paid_at:new Date(Date.now()).toISOString()}),await t(O.A_UPDATE_TABLE,{table:a.order.table,updateData:{is_available:!0}},{root:!0}),e(L.M_REMOVE_ORDER,a.order,{root:!0}),a?.customer&&e(M.M_REMOVE_CUSTOMER,a.customer,{root:!0}),a.orderItems.map((t=>e(w.M_REMOVE_ORDER_ITEM,t,{root:!0})))},async changeQuantity({state:e,dispatch:t},a){const{id:n,data:r}=a,s=Me(we.UPDATE,[{key:ee.INDEX,value:n}]);await Pe.put(s,r)},async remove({state:e},t){const a=Me(we.DELETE,[{key:ee.INDEX,value:t}]);await Pe.delete(a)}},mutations:{removeOrderItem(e,t){const a=e.orderItemList.indexOf(t);a>-1&&e.orderItemList.splice(a,1)},update(e,t){const a=e.orderItemList.find((e=>t.id===e?.id));a?(a.order=t.order,a.menu=t.menu,a.quantity=t.quantity,a.served_quantity=t.served_quantity,a.served_at=t.served_at,a.created_at=t.created_at,a.updated_at=t.updated_at,a.created_by=t.created_by):e.orderItemList.push(t)}}},Xt={namespaced:!0,state:{tables:[]},getters:{tables:e=>e.tables,table:e=>t=>e.tables.find((e=>e.id===t))},actions:{async addTable({state:e}){const t=e.tables.length,a=Qt(t+1),n=await Pe.post(Ne.CREATE,{name:a});e.tables.push(n)},async getTables({state:e,dispatch:t}){const a=await Pe.get(Ne.LIST);if(e.tables=a.results,e.tables){const e=await t(L.A_GET_ORDERS,a.results,{root:!0});e&&await t(w.A_GET_ORDER_ITEMS,e,{root:!0})}},async getTable({state:e},t){const a=Me(Ne.DETAIL,[{key:ee.INDEX,value:t.id}]),n=await r.Z.get(a);return n},async initTable({dispatch:e,commit:t},a){const n=await e(O.A_GET_TABLE,a,{root:!0});t(O.M_UPDATE_TABLE,n,{root:!0});const r=await e(L.A_GET_ORDER,a,{root:!0});r&&await e(w.A_GET_ORDER_ITEM,r,{root:!0})},async updateTable({state:e},t){const a=Me(Ne.UPDATE,[{key:ee.INDEX,value:t.table.id}]);return await Pe.put(a,t.updateData),t.table={...t.table,...t.updateData},t.table},async joinTable({state:e},t){const a=Me(Ne.JOIN_TABLE,[{key:ee.INDEX,value:t}]);await Pe.put(a)},async outTable({state:e,dispatch:t},a){const n=Me(Ne.OUT_TABLE,[{key:ee.INDEX,value:a}]);await Pe.put(n),t("getTables")},async getOrder({state:e,dispatch:t},a){const n=Me(Ne.GET_ORDER,[{key:ee.INDEX,value:a}]),r=await Pe.get(n);t(k.A_SET_MEALS,r)}},mutations:{update(e,t){const a=e.tables.find((e=>t.id===e?.id));a&&(a.is_available=t.is_available)}}},zt={namespaced:!0,state:{VAT:5},getters:{VAT:e=>e.VAT},actions:{}};const{cookies:Kt}=(0,s.fP)();var Jt,$t={namespaced:!0,state:{user:null},getters:{user:e=>e.user},actions:{async signUp({state:e},t){await r.Z.post(Oe.CREATE,t)},async signIn({dispatch:e},t){const a=await r.Z.post(Se.TOKEN,t);Kt.set($.ACCESS,a.access),Kt.set($.REFRESH,a.refresh),await e(P.A_GET_ME,{},{root:!0})},signOut({commit:e}){Kt.remove($.ACCESS),Kt.remove($.REFRESH),e(P.M_REMOVE_CURRENT_USER,{},{root:!0})},async refreshToken({dispatch:e}){const t=await r.Z.post(Se.REFRESH_TOKEN,{refresh:Kt.get($.REFRESH)});Kt.set($.ACCESS,t.access),Kt.set($.REFRESH,t.refresh),e(P.A_GET_ME,{},{root:!0})},async getMe({commit:e}){const t=await Pe.get(Se.GET_ME);e(P.M_SET_USER,t,{root:!0})}},mutations:{removeCurrentUser(e){e.user=null},setUser(e,t){e.user=t}}};(function(e){e["PROFILE__PHONE_NUMBER"]="profile__phone_number"})(Jt||(Jt={}));var ea={namespaced:!0,state:{customerList:[]},getters:{customerList:e=>e.customerList,customerByOrder:e=>t=>e.customerList.find((e=>e.id===t?.customer?.id))},actions:{async addPhoneNumber({commit:e,dispatch:t},a){const n=await Pe.post(Re.CREATE,{profile:{phone_number:a.phoneNumber}});return e(M.M_ADD_CUSTOMER,n,{root:!0}),t(L.A_UPDATE_ORDER,{order:a.order,updateData:{customer_id:n.id}},{root:!0}),n},async updateCustomer({commit:e},t){const a=Me(Re.UPDATE,[{key:ee.INDEX,value:t.customer.id}]),n=await Pe.put(a,t.updateData);return e(M.M_UPDATE,n,{root:!0}),n},async searchCustomerByPhoneNumber({state:e},t){const a=Me(Re.LIST,[],[{key:Ct.SEARCH,value:t},{key:Ct.PAGE_SIZE,value:20},{key:Ct.PAGE,value:1},{key:Ct.ORDERING,value:Jt.PROFILE__PHONE_NUMBER}]),n=await Pe.get(a);return n.results}},mutations:{removeCustomer(e,t){const a=e.customerList.indexOf(t);a>-1&&e.customerList.splice(a,1)},addCustomer(e,t){e.customerList.push(t)},update(e,t){const a=e.customerList.find((e=>t.id===e?.id));a?a.profile=t.profile:e.customerList.push(t)}}};function ta(e,t){const a=e.replace(/ /g,"_");return t?a.toLowerCase():a}function aa(e,t){if(!e)return"";const a=new Date(e);return Zt([Qt(a.getDay(),2),Qt(a.getMonth(),2),a.getFullYear()],t)}var na=a(7038),ra={namespaced:!0,state:{staffList:[],count:0,currentPage:0,alreadyPage:0,next:""},getters:{staff:e=>t=>e.staffList.find((e=>e.id===t)),staffs:e=>t=>{const a=e.staffList.filter((a=>a.currentPage===(e.currentPage||1)&&![t?.type?.id||0,1].includes(a?.type?.id||0))),n=[],{t:r}=(0,na.QT)();return a.map((e=>{n.push({id:e.id,phone_number:e?.profile?.phone_number,first_name:e?.profile?.first_name,last_name:e?.profile?.last_name,email:e?.email,type:r(ta(e?.type?.name||"",!0)),dob:aa(e?.profile?.dob,"/"),sex:e?.profile?.sex?.name,address:Zt([e?.profile?.address?.street,e?.profile?.address?.district?.name,e?.profile?.address?.district?.city?.name,e?.profile?.address?.district?.city?.country?.name],", ")})})),n},searchedStaffs:e=>t=>{e.staffList.find((e=>{const a=[e.email];return e?.profile?.phone_number&&a.push(e?.profile?.phone_number),e?.profile?.first_name&&a.push(e?.profile?.first_name),e?.profile?.last_name&&a.push(e?.profile?.last_name),t in a}))},isNext:e=>!!e.next,isPrevious:e=>e.currentPage>1},actions:{async getStaffs({state:e}){const t=await Pe.get(Oe.LIST);e.staffList=t.results,e.count=t.count,e.next=t.next,e.currentPage=1,e.staffList.map((t=>t.currentPage=e.currentPage))},async nextPage({state:e}){if(e.next){if(e.currentPage>=e.alreadyPage&&e.currentPage<e.count){const t=await Pe.get(e.next);if(!t.results.length)return;e.next=t.next,e.alreadyPage=e.alreadyPage+1,e.count=t.count,t.results.map((t=>{t.currentPage=e.currentPage+1,e.staffList.push(t)}))}e.currentPage=e.currentPage+1}},previousPage({state:e}){e.currentPage<=1||(e.currentPage=e.currentPage-1)},async updateStaff({commit:e},t){const a=Me(Oe.UPDATE,[{key:ee.INDEX,value:t.staff.id}]),n=await Pe.put(a,t.updateData);return e(C.M_UPDATE,n,{root:!0}),n}},mutations:{removeStaff(e,t){const a=e.staffList.indexOf(t);a>-1&&e.staffList.splice(a,1)},addStaff(e,t){e.staffList.push(t)},update(e,t){const a=e.staffList.find((e=>t.id===e?.id));a?(a.type=t.type,a.profile=t.profile):e.staffList.push(t)}}},sa={namespaced:!0,state:{typeList:[]},getters:{staffTypes:e=>e.typeList.sort(((e,t)=>(e?.name||"")<(t?.name||"")?1:-1))},actions:{async getStaffTypes({state:e}){const{t:t}=(0,na.QT)(),a=Me(be.LIST,[{key:ee.MASTER_NAME,value:te.STAFF_TYPE}]),n=await r.Z.get(a);e.typeList=n.results,e.typeList.map((e=>{e.name=t(ta(e?.name||"",!0))}))}}},ia={namespaced:!0,state:{orderItems:[]},getters:{orderItems:e=>e.orderItems,totalQuantity:e=>e.orderItems.reduce(((e,t)=>(e+=t.quantity,e)),0)},actions:{async getOrderItems({state:e,dispatch:t},a){const n=Me(Ne.GET_ORDER,[{key:ee.INDEX,value:a}]),r=await Pe.get(n);e.orderItems=r},remove({state:e},t){}}},oa={namespaced:!0,state:{typeList:[]},getters:{menuTypes:e=>e.typeList.sort(((e,t)=>(e?.name||"")<(t?.name||"")?1:-1))},actions:{async getMenuTypes({state:e}){const{t:t}=(0,na.QT)(),a=Me(be.LIST,[{key:ee.MASTER_NAME,value:te.MENU_TYPE}]),n=await r.Z.get(a);e.typeList=n.results,e.typeList.map((e=>{e.name=t(ta(e.name||"",!0))}))}}},da={namespaced:!0,state:{files:[]},getters:{},actions:{async uploadFile({state:e},t){const a=new FormData;a.append("file",t.file,t.file.name),t?.name&&a.append("name",t.file.name),t?.desc&&a.append("desc",t.desc),t?.type_id&&a.append("type_id",t.type_id.toString());const n=await Pe.post(he.CREATE,a);return n}}},la=(0,Q.MT)({modules:{sideBar:Ht,item:Yt,order:Wt,order_item:jt,table:Xt,bill:zt,auth:$t,customer:ea,staff:ra,staff_type:sa,cart:ia,menu_type:oa,file_management:da},plugins:[(0,Vt.Z)()]});const ua={en:{id:"ID",home:"home",sign_up:"sign up",sign_in:"sign in",sign_out:"sign out",username:"username",password:"password",first_name:"first name",last_name:"last name",email:"email",phone_number:"phone number",enter_email:"enter your email",enter_phone_number:"enter your phone number",enter_password:"enter your password",enter_meal_name:"enter the meal name",enter_unit_price:"enter the meal's price",enter_desc:"describe the meal",tables:"tables",table:"table",order:"order",add:"add",remove:"remove",bill:"bill",pay:"pay",menu:"menu",setting:"setting",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds",search:"search",meal_name:"name",quantity:"quantity",unit_price:"unit price",total:"total",ordered_at:"order at",preview:"preview",served:"served",served_at:"served at",served_quantity:"served quantity",serving_quantity:"serving quantity",serve:"serve",pay_bill:"pay bill",VAT:"VAT",amount:"amount",permission_denied:"permission denied",num_people:"no. people",staffs:"staffs",staff:"staff",type:"role",sex:"sex",dob:"date of birth",address:"address",detail:"detail",update:"update",desc:"description",add_meal:"add meal",meal_type:"meal type",photo:"photo",created_by:"created by",employee:"employee",manager:"manager",super_staff:"super staff",unapproved:"unapproved person",desserts:"desserts",drinks:"drinks",appetizer:"appetizer",main_course:"main course"},vi:{id:"#",home:"trang chủ",sign_up:"đăng ký",sign_in:"đăng nhập",sign_out:"đăng xuất",username:"tên tài khoản",password:"mật khẩu",first_name:"tên",last_name:"họ",email:"địa chỉ email",phone_number:"số điện thoại",enter_email:"nhập địa chỉ email",enter_phone_number:"nhập số điện thoại",enter_password:"nhập mât khẩu",enter_meal_name:"nhập tên món ăn",enter_unit_price:"nhập giá tiền",enter_desc:"nhập miêu tả món",tables:"bàn",table:"bàn",order:"đặt món",add:"thêm",remove:"xóa",bill:"hóa đơn",pay:"thanh toán",menu:"thực đơn",setting:"cài đặt",days:"ngày",hours:"giờ",minutes:"phút",seconds:"giây",search:"tìm kiếm",meal_name:"tên món",quantity:"số lượng",unit_price:"đơn giá",total:"tổng tiền",ordered_at:"gọi món lúc",preview:"xem trước",served:"đã lên món",served_at:"lên món lúc",served_quantity:"số lượng đã phục vụ",serving_quantity:"số lượng lên món",serve:"lên món",pay_bill:"thanh toán hóa đơn",VAT:"thuế VAT",amount:"thành tiền",permission_denied:"bạn không có quyền truy cập",num_people:"số người",staffs:"nhân viên",staff:"nhân viên",type:"chức vụ",sex:"giới tính",dob:"ngày sinh",address:"địa chỉ",detail:"chi tiết",update:"cập nhật",desc:"miêu tả",add_meal:"thêm món",meal_type:"loại món ăn",photo:"ảnh",created_by:"tạo bởi",employee:"nhân viên",manager:"quản lý",super_staff:"quản trị",unapproved:"chưa cấp phép",desserts:"món tráng miệng",drinks:"đồ uống",appetizer:"món khai vị",main_course:"món chính"}},ca=(0,na.o)({locale:"vi",messages:ua});var _a=ca;const ma=[{path:F.HOME,name:V.HOME,component:Ge,meta:{authRequired:!0}},{path:F.SIGNUP,name:V.SIGNUP,component:oe},{path:F.SIGNIN,name:V.SIGNIN,component:Ee},{path:F.TABLES,name:V.TABLES,component:Qe,meta:{authRequired:!0,notAllowedRoles:[H.UNAPPROVED]}},{path:F.TABLE,name:V.TABLE,component:Ft,props:!0,meta:{authRequired:!0,notAllowedRoles:[H.UNAPPROVED]}}],pa=(0,_.p7)({history:(0,_.PO)("/"),routes:ma});pa.beforeEach(((e,t,a)=>{const n=la.getters[P.G_USER];if(e.matched.some((e=>e?.meta?.authRequired&&e?.meta?.notAllowedRoles))){const t=e.meta.notAllowedRoles||[];n&&t.includes(n?.type?.id||-1)?alert(_a.t(ae.PERMISSION_DENIED)):n?a():pa.push(F.SIGNIN)}else e.matched.some((e=>e?.meta?.authRequired))?n?a():pa.push(F.SIGNIN):a()}));var Ea=pa,fa=a(7167),Ta=a(2748);const{cookies:Aa}=(0,s.fP)();r.Z.defaults.baseURL="https://dongquoctranh.pythonanywhere.com/api/",r.Z.interceptors.request.use((function(e){return e}),(function(e){return alert(e.message),Promise.reject(e)})),r.Z.interceptors.response.use((function(e){return e.data}),(function(e){return alert(e.message),Promise.reject(e)})),Pe.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+Aa.get($.ACCESS),e}),(function(e){return alert(e.message),Promise.reject(e)})),Pe.interceptors.response.use((function(e){return e.data}),(async function(e){return 401===e.response.status?Aa.get($.REFRESH)&&(await la.dispatch(P.A_REFRESH),Aa.get($.ACCESS))?Pe(e.config):(la.commit(P.M_REMOVE_CURRENT_USER),void Ea.push(F.SIGNIN)):(alert(e.message),Promise.reject(e))}));const ya=(0,n.ri)(c);for(const[ga,ha]of Object.entries(Ta))ya.component(ga,ha);ya.use(la).use(Ea).use(fa.Z).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,s){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],s=e[u][2];for(var o=!0,d=0;d<n.length;d++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[d])}))?n.splice(d--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,i=n[0],o=n[1],d=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(d)var u=d(a)}for(t&&t(n);l<i.length;l++)s=i[l],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},n=self["webpackChunkge"]=self["webpackChunkge"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3092)}));n=a.O(n)})();
//# sourceMappingURL=app.e1702db7.js.map